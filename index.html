<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Medical Diagnostic Centre – Online Consultation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { font-family: Arial, sans-serif; margin: 0; background:#f4f6f8 }
header { background:#0b5ed7; color:white; padding:15px }
section { padding:20px }
.card { background:white; padding:20px; border-radius:8px; margin-bottom:20px }
input, select, button {
  width:100%; padding:10px; margin:5px 0; border-radius:5px; border:1px solid #ccc
}
button { background:#0b5ed7; color:white; cursor:pointer }
button:hover { background:#094bb5 }
table { width:100%; border-collapse:collapse }
th,td { padding:10px; border-bottom:1px solid #ddd }
.hidden { display:none }
.admin { background:#fff3cd }
</style>

<script src="https://apis.google.com/js/api.js"></script>
</head>

<body>

<header>
<h2>Medical Diagnostic Centre – Online Video Consultation</h2>
</header>

<section class="card">
<h3>Patient Appointment Booking</h3>
<input id="pname" placeholder="Patient Name">
<input id="pemail" placeholder="Email">
<select id="doctor"></select>
<input type="date" id="date">
<input type="time" id="time">
<button onclick="bookAppointment()">Book Appointment</button>
</section>

<section class="card admin">
<h3>Admin Panel</h3>
<input id="adminPass" type="password" placeholder="Admin Password">
<button onclick="loginAdmin()">Login</button>

<div id="adminArea" class="hidden">
<h4>Add Doctor</h4>
<input id="dname" placeholder="Doctor Name">
<button onclick="addDoctor()">Add Doctor</button>

<h4>Appointments</h4>
<table id="apptTable"></table>
</div>
</section>

<script>
const ADMIN_PASSWORD = "admin123";
let doctors = JSON.parse(localStorage.getItem("doctors")) || [];
let appointments = JSON.parse(localStorage.getItem("appointments")) || [];

function save() {
  localStorage.setItem("doctors", JSON.stringify(doctors));
  localStorage.setItem("appointments", JSON.stringify(appointments));
}

function renderDoctors() {
  const d = document.getElementById("doctor");
  d.innerHTML = "";
  doctors.forEach(x => {
    let o = document.createElement("option");
    o.value = x;
    o.textContent = x;
    d.appendChild(o);
  });
}

function addDoctor() {
  const name = document.getElementById("dname").value;
  if (!name) return alert("Enter doctor name");
  doctors.push(name);
  save();
  renderDoctors();
  alert("Doctor added");
}

function bookAppointment() {
  const a = {
    id: Date.now(),
    name: pname.value,
    email: pemail.value,
    doctor: doctor.value,
    date: date.value,
    time: time.value,
    meet: ""
  };
  appointments.push(a);
  save();
  alert("Appointment booked");
}

function loginAdmin() {
  if (adminPass.value === ADMIN_PASSWORD) {
    adminArea.classList.remove("hidden");
    renderAppointments();
  } else alert("Wrong password");
}

function renderAppointments() {
  const t = document.getElementById("apptTable");
  t.innerHTML = "<tr><th>Patient</th><th>Doctor</th><th>Date</th><th>Meet</th></tr>";
  appointments.forEach(a => {
    t.innerHTML += `<tr>
      <td>${a.name}</td>
      <td>${a.doctor}</td>
      <td>${a.date} ${a.time}</td>
      <td>
        ${a.meet ? `<a href="${a.meet}" target="_blank">Join</a>` :
        `<button onclick="createMeet(${a.id})">Generate Meet</button>`}
      </td>
    </tr>`;
  });
}

function createMeet(id) {
  alert("26213355668-ss2uq0mq5mlorcjn47mekvq0m479fa6k.apps.googleusercontent.com");
}

/* Initialize */
renderDoctors();
</script>

</body>
</html>
